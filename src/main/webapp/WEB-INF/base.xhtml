<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:h5="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Disable caching -->
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <link rel="shortcut icon" type="image/x-icon"
          href="#{request.contextPath}/javax.faces.resource/favicon.ico.xhtml?ln=images" />
    <!-- other browsers -->
    <link rel="icon" type="image/x-icon"
          href="#{request.contextPath}/javax.faces.resource/favicon.ico.xhtml?ln=images" />

    <title>#{pageTitle} Â· Exmatrikulator</title>

    <!-- Styles -->
    <h:outputStylesheet library="css" name="vendors.min.css"  />
    <h:outputStylesheet library="css" name="exmatrikulator.min.css"  />

    <!-- Interactivity -->
    <h:outputScript library="js" name="exmatrikulator.min.js" />
</h:head>

<h:body styleClass="#{showModal ? 'modal-open' : ''}">
    <div id="header">
        <div class="btn-group user pull-right">
            <h:form layout="block" class="btn btn-default">
                <div class="dropdown-toggle active-language">
                    #{navigation.userLocale}
                </div>
                <ul class="dropdown-menu">
                    <ui:repeat value="#{navigation.languages}" var="lang">
                        <li><h:commandLink update="@all" action="#{navigation.setUserLocale(lang)}" value="#{lang}" /></li>
                    </ui:repeat>
                </ul>
            </h:form>
            <div class="btn btn-default">
                <div class="dropdown-toggle">
                    #{user.firstName} #{user.lastName} <span class="caret"></span>
                </div>
                <ul class="dropdown-menu dropdown-menu-right">
                    <!-- Todo: Links setzen -->
                    <li><h:link value="#{msg['common.myProfile']}" outcome="/profile/show" /></li>
                    <li role="separator" class="divider"></li>
                    <li><a>#{msg['common.logout']}</a></li>
                </ul>
            </div>
        </div>

        <ol class="breadcrumb">
            <li><h:link value="Exmatrikulator" outcome="/course/overview" /></li>
            <ui:insert name="breadcrumbs"></ui:insert>
        </ol>
    </div>

    <div id="nav">
        <div class="logo text-center">
            <h:graphicImage library="images" name="stallion_light.svg" class="logo-stallion" />
        </div>

        <h:form>
            <ui:repeat value="#{userController.coursesBySemester.entrySet().toArray()}" var="semester">
            <label>#{semester.key}</label>
            <ul class="nav nav-pills nav-stacked semester-links">
                <ui:repeat value="#{semester.value}" var="course">
                <li>
                    <h:link value="#{course.name}" />
                    <ul class="nav nav-pills nav-stacked sub-pills">
                        <li><h:commandLink action="#{navigation.viewCourse(course,
                            &quot;/participants/overview&quot;)}" value="#{msg['common.course.participants']}" /></li>
                        <li><h:commandLink action="#{navigation.viewCourse(course,
                            &quot;/participants/overview&quot;)}" value="#{msg['courses.tutorialsGroups']}" /></li>
                        <li><h:commandLink action="#{navigation.viewCourse(course,
                            &quot;/participants/overviewl&quot;)}" value="#{msg['courses.grading']}" /></li>
                        <li><h:commandLink action="#{navigation.viewCourse(course,
                            &quot;/participants/overview&quot;)}" value="#{msg['common.settings']}" /></li>
                    </ul>
                </li>
                </ui:repeat>
            </ul>
            </ui:repeat>
        </h:form>

    </div>

    <div id="main">
        <ui:insert name="content"></ui:insert>
    </div>

    <ui:insert name="modal"></ui:insert>
    <h:panelGroup layout="block" rendered="#{showModal}" class="modal-backdrop fade in"></h:panelGroup>
</h:body>
</html>
