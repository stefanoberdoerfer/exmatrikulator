<ui:composition template="/WEB-INF/base.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:h5="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:pe="http://primefaces.org/ui/extensions">

  <pe:importConstants className="de.unibremen.opensores.util.Constants" var="EXcons" />

  <!-- Define Params -->
  <ui:param name="pageTitle" value="#{msg['common.myProfile']}" />

  <!-- Breadcrumbs -->
  <ui:define name="breadcrumbs">
    <li class="active">"#{msg['settings.myData']}"</li>
  </ui:define>

  <!-- Page Content -->
  <ui:define name="content">
    <div class="headline">
      <h1>#{msg['settings.myData']}</h1>
      <ui:include src="/WEB-INF/alerts.xhtml" />
    </div>

    <div class="row">
        <div class="col-xs-5">
            <h:form class="form-horizontal row">
                <div class="form-group">
                  <h:outputLabel class="col-xs-3 control-label" value="#{msg['common.name']}" />
                    <div class="col-xs-4">
                      <h:inputText type="text" class="form-control" required="true"
                          requiredMessage="#{msg['registration.missingFirstName']}"
                          value="#{userController.user.firstName}" />
                    </div>
                    <div class="col-xs-4">
                      <h:inputText type="text" class="form-control" required="true"
                          requiredMessage="#{msg['registration.missingLastName']}"
                          value="#{userController.user.lastName}" />
                    </div>
                </div>

                <div class="form-group">
                  <h:outputLabel class="col-xs-3 control-label" value="#{msg['common.salutation']}" />
                    <div class="col-xs-8">
                      <h:inputText type="text" class="form-control" value="#{userController.user.salutation}" />
                    </div>
                </div>

                <div class="form-group">
                  <h:outputLabel class="col-xs-3 control-label" value="#{msg['common.studentNumber']}" />
                    <div class="col-xs-8">
                      <h:inputText type="text" class="form-control" value="#{userController.user.matriculationNumber}" />
                    </div>
                </div>

                <div class="form-group">
                  <h:outputLabel class="col-xs-3 control-label" value="#{msg['common.email']}"/>
                    <div class="col-xs-8">
                      <h:inputText type="email" class="form-control" required="true"
                          requiredMessage="#{msg['registration.missingEmail']}"
                          validatorMessage="#{msg['registration.invalidEmail']}"
                          value="#{userController.user.email}">
                        <f:validateRegex pattern="#{EXcons.EMAIL_REGEX}" />
                      </h:inputText>
                    </div>
                </div>

                <br />

                <div class="form-group">
                  <h:outputLabel class="col-xs-3 control-label" value="#{msg['common.phone']}" />
                    <div class="col-xs-8">
                      <h:inputText type="text" class="form-control" value="#{userController.user.phoneNumber}" />
                    </div>
                </div>

                <br />

                <div class="form-group">
                  <h:outputLabel class="col-xs-3 control-label" value="#{msg['common.description']}" />
                    <div class="col-xs-8">
                      <h:inputTextarea rows="8" class="form-control" value="#{userController.user.profileInfo}" />
                    </div>
                </div>

                <br />

                <div class="form-group">
                    <div class="col-xs-9 col-xs-offset-3">
                        <div class="btn-group">
                          <h:commandButton type="submit" class="btn btn-primary btn-block"
                          value="#{msg['settings.save']}" action="#{userController.saveUser()}" />
                        </div>
                    </div>
                </div>
            </h:form>
        </div>
    </div>
  </ui:define>
</ui:composition>
